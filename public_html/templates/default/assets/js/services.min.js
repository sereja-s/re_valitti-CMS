import"./main.min.js";import{d as W,s as S,a as y,g as b,u as q}from"./common.min.js";function T(){const u=document.querySelectorAll("[data-fls-showmore]");let e,o;u.length&&(e=Array.from(u).filter(function(r,s,a){return!r.dataset.flsShowmoreMedia}),e.length&&l(e),document.addEventListener("click",d),window.addEventListener("resize",d),o=W(u,"flsShowmoreMedia"),o&&o.length&&(o.forEach(r=>{r.matchMedia.addEventListener("change",function(){l(r.itemsArray,r.matchMedia)})}),t(o)));function t(r){r.forEach(s=>{l(s.itemsArray,s.matchMedia)})}function l(r,s){r.forEach(a=>{n(a,s)})}function n(r,s=!1){r=s?r.item:r;let a=r.querySelectorAll("[data-fls-showmore-content]"),c=r.querySelectorAll("[data-fls-showmore-button]");a=Array.from(a).filter(h=>h.closest("[data-fls-showmore]")===r)[0],c=Array.from(c).filter(h=>h.closest("[data-fls-showmore]")===r)[0];const i=g(r,a);s.matches||!s?i<m(a)?(S(a,0,r.classList.contains("--showmore-active")?m(a):i),c.hidden=!1):(y(a,0,i),c.hidden=!0):(y(a,0,i),c.hidden=!0)}function g(r,s){let a=0;const c=r.dataset.flsShowmore?r.dataset.flsShowmore:"size",i=parseFloat(getComputedStyle(s).rowGap)?parseFloat(getComputedStyle(s).rowGap):0;if(c==="items"){const h=s.dataset.flsShowmoreContent?s.dataset.flsShowmoreContent:3,w=s.children;for(let f=1;f<w.length;f++){const p=w[f-1],A=parseFloat(getComputedStyle(p).marginTop)?parseFloat(getComputedStyle(p).marginTop):0,v=parseFloat(getComputedStyle(p).marginBottom)?parseFloat(getComputedStyle(p).marginBottom):0;if(a+=p.offsetHeight+A,f==h)break;a+=v}i&&(a+=(h-1)*i)}else a=s.dataset.flsShowmoreContent?s.dataset.flsShowmoreContent:150;return a}function m(r){let s,a=r.offsetHeight;r.style.removeProperty("height"),r.closest("[hidden]")&&(s=r.closest("[hidden]"),s.hidden=!1);let c=r.offsetHeight;return s&&(s.hidden=!0),r.style.height=`${a}px`,c}function d(r){const s=r.target,a=r.type;if(a==="click"){if(s.closest("[data-fls-showmore-button]")){const i=s.closest("[data-fls-showmore-button]").closest("[data-fls-showmore]"),h=i.querySelector("[data-fls-showmore-content]"),w=i.dataset.flsShowmoreButton?i.dataset.flsShowmoreButton:"500",f=g(i,h);h.classList.contains("--slide")||(i.classList.contains("--showmore-active")?S(h,w,f):y(h,w,f),i.classList.toggle("--showmore-active"))}}else a==="resize"&&(e&&e.length&&l(e),o&&o.length&&t(o))}}window.addEventListener("load",T);function E(){function u(t){let l=t||document.querySelectorAll("[data-fls-digcounter]");l.length&&l.forEach(n=>{n.hasAttribute("data-fls-digcounter-go")||(n.setAttribute("data-fls-digcounter-go",""),n.dataset.flsDigcounter=n.innerHTML,n.innerHTML="0",e(n))})}function e(t){let l=null;const n=parseFloat(t.dataset.flsDigcounterSpeed)?parseFloat(t.dataset.flsDigcounterSpeed):1e3,g=parseFloat(t.dataset.flsDigcounter),m=t.dataset.flsDigcounterFormat?t.dataset.flsDigcounterFormat:" ",d=0,r=s=>{l||(l=s);const a=Math.min((s-l)/n,1),c=Math.floor(a*(d+g));t.innerHTML=typeof t.dataset.flsDigcounterFormat<"u"?b(c,m):c,a<1?window.requestAnimationFrame(r):t.removeAttribute("data-fls-digcounter-go")};window.requestAnimationFrame(r)}function o(t){const l=t.detail.entry,n=l.target;n.querySelectorAll("[data-fls-digcounter]").length&&!n.querySelectorAll("[data-fls-watcher]").length&&l.isIntersecting&&u(n.querySelectorAll("[data-fls-digcounter]"))}document.addEventListener("watcherCallback",o)}document.querySelector("[data-fls-digcounter]")&&window.addEventListener("load",E);class L{constructor(e){let o={logging:!0};this.config=Object.assign(o,e),this.observer,document.documentElement.hasAttribute("data-fls-watch")||this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.setAttribute("data-fls-watch",""),this.scrollWatcherConstructor(document.querySelectorAll("[data-fls-watcher]"))}scrollWatcherConstructor(e){e.length&&q(Array.from(e).map(function(t){if(t.dataset.flsWatcher==="navigator"&&!t.dataset.flsWatcherThreshold){let l;t.clientHeight>2?(l=window.innerHeight/2/(t.clientHeight-1),l>1&&(l=1)):l=1,t.setAttribute("data-fls-watcher-threshold",l.toFixed(2))}return`${t.dataset.flsWatcherRoot?t.dataset.flsWatcherRoot:null}|${t.dataset.flsWatcherMargin?t.dataset.flsWatcherMargin:"0px"}|${t.dataset.flsWatcherThreshold?t.dataset.flsWatcherThreshold:0}`})).forEach(t=>{let l=t.split("|"),n={root:l[0],margin:l[1],threshold:l[2]},g=Array.from(e).filter(function(d){let r=d.dataset.flsWatcherRoot?d.dataset.flsWatcherRoot:null,s=d.dataset.flsWatcherMargin?d.dataset.flsWatcherMargin:"0px",a=d.dataset.flsWatcherThreshold?d.dataset.flsWatcherThreshold:0;if(String(r)===n.root&&String(s)===n.margin&&String(a)===n.threshold)return d}),m=this.getScrollWatcherConfig(n);this.scrollWatcherInit(g,m)})}getScrollWatcherConfig(e){let o={};if(document.querySelector(e.root)?o.root=document.querySelector(e.root):e.root,o.rootMargin=e.margin,!(e.margin.indexOf("px")<0&&e.margin.indexOf("%")<0)){if(e.threshold==="prx"){e.threshold=[];for(let t=0;t<=1;t+=.005)e.threshold.push(t)}else e.threshold=e.threshold.split(",");return o.threshold=e.threshold,o}}scrollWatcherCreate(e){this.observer=new IntersectionObserver((o,t)=>{o.forEach(l=>{this.scrollWatcherCallback(l,t)})},e)}scrollWatcherInit(e,o){this.scrollWatcherCreate(o),e.forEach(t=>this.observer.observe(t))}scrollWatcherIntersecting(e,o){e.isIntersecting?o.classList.contains("--watcher-view")||o.classList.add("--watcher-view"):o.classList.contains("--watcher-view")&&o.classList.remove("--watcher-view")}scrollWatcherOff(e,o){o.unobserve(e)}scrollWatcherCallback(e,o){const t=e.target;this.scrollWatcherIntersecting(e,t),t.hasAttribute("data-fls-watcher-once")&&e.isIntersecting&&this.scrollWatcherOff(t,o),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:e}}))}}document.querySelector("[data-fls-watcher]")&&window.addEventListener("load",()=>new L({}));
